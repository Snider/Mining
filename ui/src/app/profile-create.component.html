<form class="wa-stack" id="profile-create-form">
  <h5>Create New Profile</h5>

  <!-- Error and success messages now use simple properties -->
  @if (error) {
    <div class="card card-error">
      <p>{{ error }}</p>
    </div>
  }
  @if (success) {
    <div class="card card-success">
      <p>{{ success }}</p>
    </div>
  }

  <!-- Two-way data binding with [(ngModel)] -->
  <div>
    <label for="name">Profile Name</label>
    <input id="name" name="name" [(ngModel)]="model.name" required>
  </div>

  <div>
    <label for="minerType">Miner Type</label>
    <select id="minerType" name="minerType" [(ngModel)]="model.minerType" required>
      @for(miner of state().manageableMiners; track miner.name) {
        <option [value]="miner.name">{{ miner.name }}</option>
      }
    </select>
  </div>

  <!-- ngModelGroup to group related form controls into a nested object -->
  <fieldset name="config">
    <legend>Configuration</legend>
    <div>
      <label for="pool">Pool Address</label>
      <input id="pool" name="pool" [(ngModel)]="model.config.pool" required>
    </div>
    <div>
      <label for="wallet">Wallet Address</label>
      <input id="wallet" name="wallet" [(ngModel)]="model.config.wallet" required>
    </div>
    <div>
      <input class="" type="checkbox" id="tls" name="tls" [(ngModel)]="model.config.tls">
      <label for="tls">TLS</label>
    </div>
    <div>
      <input type="checkbox" id="hugePages" name="hugePages" [(ngModel)]="model.config.hugePages">
      <label for="hugePages">Huge Pages</label>
    </div>
  </fieldset>

  <button type="submit" (click)="createProfile()">Create Profile</button>
</form>
